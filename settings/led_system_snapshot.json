{
    "system_name": "Mirror Body Animations - LED System (8 Panels)",
    "snapshot_date": "2025-12-12T15:18:23+05:30",
    "version": "1.0.0-testing",
    "status": "TESTING_PANEL_PLACEMENT",
    "hardware": {
        "led_panels": {
            "total_panels": 8,
            "panel_layout": "2 columns × 4 rows",
            "panel_size": "16×16 pixels",
            "leds_per_panel": 256,
            "total_leds": 2048,
            "total_width": 32,
            "total_height": 64,
            "led_type": "WS2812B",
            "panels": {
                "panel_1": {
                    "position": "top-left",
                    "row": 0,
                    "col": 0,
                    "x_range": "0-15",
                    "y_range": "0-15"
                },
                "panel_2": {
                    "position": "top-right",
                    "row": 0,
                    "col": 1,
                    "x_range": "16-31",
                    "y_range": "0-15"
                },
                "panel_3": {
                    "position": "middle-top-left",
                    "row": 1,
                    "col": 0,
                    "x_range": "0-15",
                    "y_range": "16-31"
                },
                "panel_4": {
                    "position": "middle-top-right",
                    "row": 1,
                    "col": 1,
                    "x_range": "16-31",
                    "y_range": "16-31"
                },
                "panel_5": {
                    "position": "middle-bottom-left",
                    "row": 2,
                    "col": 0,
                    "x_range": "0-15",
                    "y_range": "32-47"
                },
                "panel_6": {
                    "position": "middle-bottom-right",
                    "row": 2,
                    "col": 1,
                    "x_range": "16-31",
                    "y_range": "32-47"
                },
                "panel_7": {
                    "position": "bottom-left",
                    "row": 3,
                    "col": 0,
                    "x_range": "0-15",
                    "y_range": "48-63"
                },
                "panel_8": {
                    "position": "bottom-right",
                    "row": 3,
                    "col": 1,
                    "x_range": "16-31",
                    "y_range": "48-63"
                }
            }
        },
        "esp32": {
            "pin_left_panel": 5,
            "pin_right_panel": 18,
            "leds_per_pin": 1024
        }
    },
    "test_mode": {
        "name": "LED_TEST",
        "description": "Test mode to verify panel placement",
        "patterns": [
            {
                "name": "numbers",
                "description": "Display numbers 1-8 on each panel",
                "purpose": "Verify each panel shows correct number in correct position"
            },
            {
                "name": "panel_1-8",
                "description": "Light up individual panels one at a time",
                "purpose": "Identify which physical panel corresponds to which number"
            },
            {
                "name": "borders",
                "description": "Draw borders around each 16×16 panel",
                "purpose": "Verify panel boundaries and grid alignment"
            },
            {
                "name": "checkerboard",
                "description": "Alternating checkerboard pattern",
                "purpose": "Verify pixel-level accuracy and wiring"
            },
            {
                "name": "gradient",
                "description": "Horizontal gradient from dark to bright",
                "purpose": "Test brightness levels and smooth transitions"
            }
        ],
        "usage": {
            "start": "python -m apps.gui.main --fast",
            "switch_pattern": "Press SPACE",
            "exit_test_mode": "Press T or R",
            "instructions": [
                "1. Run the GUI (it starts in LED_TEST mode)",
                "2. Look at physical LED panels",
                "3. Press SPACE to cycle through test patterns",
                "4. For 'numbers' pattern: verify each panel shows its correct number (1-8)",
                "5. For 'panel_X' patterns: note which physical panel lights up",
                "6. Document any mismatches in physical_placement_notes.txt",
                "7. Once placement is confirmed, fix pixel mapping if needed"
            ]
        }
    },
    "communication": {
        "serial": {
            "port": "COM5",
            "baud_rate": 460800,
            "timeout": 1
        },
        "packets": {
            "led_packet": {
                "header": "0xAA 0xBB",
                "type": "0x01",
                "size": 2051,
                "data_bytes": 2048,
                "format": "3 header bytes + 2048 LED bytes (grayscale)"
            }
        }
    },
    "firmware": {
        "file": "mirror-prod-animation_esp32.ino",
        "led_configuration": {
            "fastled_chipset": "WS2812B",
            "color_order": "GRB",
            "num_leds_left": 1024,
            "num_leds_right": 1024,
            "pin_left": 5,
            "pin_right": 18
        }
    },
    "python": {
        "led_controller": {
            "class": "LEDController",
            "width": 32,
            "height": 64
        },
        "led_panel_tester": {
            "class": "LEDPanelTester",
            "file": "packages/mirror_core/testing/led_panel_tester.py",
            "methods": [
                "generate_panel_test_pattern() - Shows numbers 1-8",
                "generate_individual_panel_test(panel_id) - Lights one panel",
                "generate_panel_border_test() - Shows grid borders",
                "generate_checkerboard_test() - Checkerboard pattern",
                "generate_gradient_test() - Horizontal gradient",
                "generate_solid_color_test() - R/G/B/White patterns"
            ]
        }
    },
    "test_suite": {
        "file": "tests/hardware/leds/comprehensive_led_test.py",
        "tests": [
            "1. LED Controller Initialization",
            "2. Panel Tester Initialization",
            "3. Panel Numbering Pattern",
            "4. Individual Panel Patterns (1-8)",
            "5. LED Packet Generation",
            "6. Color Patterns (R/G/B/White)",
            "7. Geometric Patterns",
            "8. Serial LED Transmission",
            "9. Sequential Panel Test",
            "10. Brightness Levels Test"
        ],
        "results_location": "settings/test_results/led_test_*.json"
    },
    "known_issues": [
        "Panel placement not yet verified - need to mark physical panels 1-8",
        "Pixel mapping may need adjustment after placement verification",
        "Camera-based LED tracking disabled until panel placement confirmed"
    ],
    "next_steps": [
        "1. Run LED_TEST mode and verify panel numbering",
        "2. Mark each physical panel with its number (1-8)",
        "3. Document any misplaced panels",
        "4. Adjust pixel mapping in firmware/python if needed",
        "5. Re-enable camera tracking once layout is confirmed"
    ],
    "restore_instructions": {
        "test_mode": [
            "1. Run: python -m apps.gui.main --fast",
            "2. Press T to enter LED_TEST mode",
            "3. Press SPACE to cycle test patterns",
            "4. Verify panel numbering matches physical placement"
        ],
        "run_tests": [
            "python -m tests.hardware.leds.comprehensive_led_test"
        ]
    }
}